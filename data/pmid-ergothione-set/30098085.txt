Psilocybe mushrooms are best known for their l-tryptophan-derived psychotropic alkaloid psilocybin. Dimethylation of norbaeocystin, the precursor of psilocybin, by the enzyme PsiM is a critical step during the biosynthesis of psilocybin. However, the "magic" mushroom Psilocybe serbica also mono- and dimethylates l-tryptophan, which is incompatible with the specificity of PsiM. Here, a second methyltransferase, TrpM, was identified and functionally characterized. Mono- and dimethylation activity on l-tryptophan was reconstituted in vitro, whereas tryptamine was rejected as a substrate. Therefore, we describe a second l-tryptophan-dependent pathway in Psilocybe that is not part of the biosynthesis of psilocybin. TrpM is unrelated to PsiM but originates from a retained ancient duplication event of a portion of the egtDB gene that encodes an ergothioneine biosynthesis enzyme. During mushroom evolution, this duplicated gene was widely lost but re-evolved sporadically and independently in various genera. We propose a new secondary metabolism evolvability mechanism, in which weakly selected genes are retained through preservation in a widely distributed, conserved pathway.