Ergothioneine is a histidine-derived thiol of bacterial and fungal origin that has also been isolated from animal and human tissue. Recent findings point to critical functions of ergothioneine in human physiology, but its role in microbial life is poorly understood. This report describes the identification of the ergothioneine biosynthetic gene cluster from mycobacteria and in vitro reconstitution of this process using recombinant proteins from Mycobacterium smegmatis. The key reactions are catalyzed by a methyltransferase that transfers three methyl groups to the alpha-amino moiety of histidine and an iron(II)-dependent enzyme that catalyzes oxidative sulfurization of trimethylhistidine. A search for homologous genes indicated that ergothioneine production is a frequent trait among fungi, actinobacteria, and cyanobacteria but also occurs in numerous bacteroidetes and proteobacteria.